
sudo subscription-manager register --user  <user>
sudo subscription-manager list --available | more
sudo subscription-manager attach --pool <pool>
sudo dnf -y update && dnf -y upgrade
sudo dnf -y install git


Step 1 - Install prereqs and add user
export DEMOUSER=demouser
git clone https://github.com/marcredhat/crcdemos.git
cd crcdemos/scripts/
chmod +x *.sh
./1.sh


Step 2 - Install Go
su $DEMOUSER
cd /home/$DEMOUSER
wget https://raw.githubusercontent.com/marcredhat/crcdemos/master/scripts/2.sh
chmod +x *.sh
./2.sh

Step 3 - Test Go installation
source .bashrc
go


Step 4 - Set up CodeReady Containers
wget https://mirror.openshift.com/pub/openshift-v4/clients/crc/1.0.0-beta.3/crc-linux-amd64.tar.xz
tar -xvf crc-linux-amd64.tar.xz
cd crc-linux-1.0.0-beta.3-amd64/
#Set the memory available to CRC according to what you have on your physical server
#Iâ€™m on a physical server with around 100G of memory so I allocate 80G to CRC as follows:

./crc config set memory 81920
./crc setup


Step 5 - Start CodeReady Containers
./crc start

sudo cp /home/demouser/.crc/bin/oc  /usr/bin
sudo cp /home/demouser/crc-linux-1.0.0-beta.3-amd64/crc /usr/bin

oc login -u kubeadmin -p 78UVa-zNj5W-YB62Z-ggxGZ https://api.crc.testing:6443
oc get projects


Step 6 - Set up Ansible Agnostic Deployer
su demouser
cd /home/demouser
git clone https://github.com/redhat-cop/agnosticd.git
cd agnosticd/ansible
sudo python -m pip install --upgrade --trusted-host files.pythonhosted.org -r requirements.txt
sudo python3 -m pip install --upgrade --trusted-host files.pythonhosted.org -r requirements.txt
sudo pip3 install kubernetes
sudo pip3 install openshift


Step 7 - Deploy OpenDataHub using the Ansible Agnostic Deployer
su demouser
cd /home/demouser/agnosticd/ansible

export WORKLOAD="ocp4-workload-open-data-hub"

cat inventory

#We are only deploying one Open Data Hub project, so we set user_count to 1.
ansible-playbook -i inventory ./configs/ocp-workloads/ocp-workload.yml -e"ocp_workload=${WORKLOAD}" -e"ACTION=create" -e"user_count=1" -e"ocp_username=kubeadmin" -e"ansible_become_pass=a" -e"silent=False"


Step 8 - Use your new Data & AI Platform for the Hybrid Cloud

oc project open-data-hub-user1

oc get pods

oc get route 
